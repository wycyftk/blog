## 编程范式

### 一、概述

> 本文的内容，不能帮助你解决实际的开发问题，只是向你分享一下我在编程范式上的观点。

从大学学习编程开始，只知道 *面向过程* 和 *面向对象* 的语言，后来在机缘巧合之下听说了 *函数式编程* ，然后买了相关的书，阅读了解了一下。也是在《函数式编程思维》一书中，听到了一个新的名词—— *元编程* 。

#### 1.1 关键词

在开始正文之前，首先要了解几个名词：范式、命令式、函数式、高阶函数、封装、继承、多态。

有一定 Java、C++ 编程基础的同学都知道，封装、继承、多态是面向对象的三特性；而函数式、高阶函数则是函数式编程的特性；命令式指的是像发布命令一样规定程序的执行步骤。

数据库学习中你可能会听过范式这个词，即是数据库设计原则的第一范式、第二范式。假如你把第一范式当成完整的词，当听到编程范式的时候就容易懵。不知道什么叫范式，什么叫编程范式？维基百科上有一句话是这么形容范式这个词的： `用于描述在科学上或者认识论中的的思维方式`。我们可以简单的理解为 `范式就是一种思维方式`。

面向对象编程里有与范式意思相近的词——模式，来自设计模式中的模式。模式与范式的含义是相近的，也是有一些区别的。比如说，有个叫工厂模式的设计模式是为了解决对象生成的问题，解决同样问题的模式还有抽象工厂模式、工厂方法模式和建造者模式。从这里可以看出，模式是描述解决一个具体问题的方式。范式却十分抽象，无论是数据库的范式，还是编程的范式，都只是在传达一种解决问题的思维方式。

#### 1.2 编程范式

目前，笔者了解到的流行的编程范式有 `面向过程编程`、`面向对象编程`、`函数式编程`和`元编程`。如果学过c语言或是入门Java时听过马士兵的讲解，很快就能对号入座。C语言就是面向过程编程的语言，Java是面向对象编程的语言。实际上，真的是这样吗？

我们还可以换个方式提问，编程语言和编程范式有什么关系？不如先看两段代码吧。

```java
public class Student {
  private String name;
  private Integer age;

  public void setName(String name) {
    this.name = name;
  }

  public void setAge(int age) {
    this.age = age
  }
}
```

```c
#include <stdint.h>

typedef struct {
  int age;
  char name[];
} Student;

void setName(Student * const this, char name[]);
void setAge(Student * const this, int age);
```

这两段分别是Java和C语言声明一个Student，在Java里Student被称为 `class（类）` 有name和age属性和对应的set方法。同样的，我们在C语言里也仿照这个形式写，神奇的事情发生了。尽管语言不同，但是它们的功能却是相似的。正是这点，会让一些比较费解，毕竟和老师讲的不一样。

在学习Java的时候，为了让你理解这个语言的特点，就会举例。当时我的老师举的例子是这样的：

C是面向过程的，Java是面向对象的，如果你的目的是想去北京，用C的话，你得先上车，然后关门，启动车，踩油门...（一路开），到了北京就停车。如果用Java，你就new一个车的对象，这个对象提供了一个方法可以让你去想去的地方，你上车（传参）给它说北京（调用），然后它就把你送到了。因为面向过程编程，你的目的是在于如何达到这个目标。而面向对象不一样，它为了将属性和行为聚合，一起提供开发者。

在接受了这样的解释之后，很容易将语言和编程范式紧密的联系起来。但当你对语言更加的了解之后，会发现这确实是面向过程和面向对象的区别，但不是Java和C的区别。

> 说了这么多，你得记住一个观点，编程范式只是编程的一种思想，而不是语言天生的特性

#### 1.3 本文内容

本文会以编程语言与编程范式的关系开篇，然后会依次介绍这四种编程范式的思想，和它们解决的问题。

### 2 面向过程编程

百度百科中对于面向过程的解释是这样的：

> “面向过程”(Procedure Oriented)是一种以过程为中心的编程思想。这些都是以什么正在发生为主要目标进行编程，不同于面向对象的是谁在受影响。与面向对象明显的不同就是封装、继承、类。

正如上面解释说的那样，面向过程编程的核心在于过程，这里的过程可以看成求解最终结果的每一个步骤。这么说会比较难理解，举个例子：

已知一个班级学生的语文、数学、英语等三门学科的成绩，求全班第一名的分数是多少？

最终结果：全班第一名的分数
过程：将每个人的语文、数学、英语的成绩求和；找到最高的分数；

在这个例子中，过程和结果就非常明显。下面是实现的代码：

```java
public class Student {
  private int langScore;

  private int mathScore;

  private int enScore;

  public Student(int langScore, int mathScore, int enScore) {
    this.langScore = langScore;
    this.mathScore = mathScore;
    this.enScore = enScore;
  }
}

public class Application {
  public static void main(string[] args) {
    Student[] studentList;
    int[] totalScore = new int[studentList.]
  }
}

```

初次学习编程的人上手面向过程范式的语言会比较容易，因为使用这种编程思想解决问题的时候，就和解决数学问题一样，明确求解的问题，然后把问题分解、列出等式、使用公式，最后根据过程得到结果。这一系列的思考过程，非常符合初学者的心智模型，这也应该是大学开设课程的时候，会先学习C语言的原因之一。

### 面向对象

### 函数式编程

### 元编程

### 总结

在编程的行业里，有道法论和术法论两类。道法论主张提升思想高度，抽象解决问题。术法论的一派则是通过技能、工具、方法来解决问题。两者之间，应该是相辅相成的。你的思想高度，会决定你的技术高度。如同函数式一样，很早的年代里被提出，这个想法在那个年代是难以想象的。都在为以 kb 为单位的内存考虑如何降低代码大小，提高运行速度，没人思考消除程序的不稳定因素，把细节的控制权让渡给运行时。直到最近两年，计算机发展起来了，都在考虑如何写出方便维护的代码，才重新火热起来。不禁感叹这些计算机科学家的厉害之处。
